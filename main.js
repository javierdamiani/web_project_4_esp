!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=document.querySelector("#cardTemplate"),r=function(){function t(e){var n=e.data,r=e.handleCardClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._handleCardClick=r}var r,o;return r=t,(o=[{key:"_getTemplate",value:function(){return n.cloneNode(!0).content.querySelector("#cities")}},{key:"_handleLikeBtn",value:function(){this.likeBtn.classList.toggle("elements__template_element-button_active")}},{key:"_handleDeleteBtn",value:function(){this.createdCard.remove()}},{key:"_setEventListeners",value:function(){var t=this;this.likeBtn.addEventListener("click",(function(){t._handleLikeBtn()})),this.deleteBtn.addEventListener("click",(function(){t._handleDeleteBtn()})),this.cardImage.addEventListener("click",(function(){t._handleCardClick({name:t._name,link:t._link})}))}},{key:"_setCardProperties",value:function(){this.cardTitle=this.createdCard.querySelector("#cardTitle"),this.cardImage=this.createdCard.querySelector("#cardImg"),this.deleteBtn=this.createdCard.querySelector("#trashCan"),this.likeBtn=this.createdCard.querySelector("#likeBtn"),this.cardTitle.textContent=this._name,this.cardImage.src=this._link}},{key:"_generateCard",value:function(){return this.createdCard=this._getTemplate(),this._setCardProperties(),this._setEventListeners(),this.createdCard}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(),o=document.querySelector("#profName"),i=document.querySelector("#profAbout"),u=document.querySelector("#popupName"),a=document.querySelector("#popupAbout"),l=document.querySelector("#editButton"),c=(document.querySelector("#btnSubmit"),document.querySelector("#addImg")),s=document.querySelector("#title"),f=document.querySelector("#linkImg"),p=document.querySelector(".popup__form"),y=document.querySelector("#placeForm"),m={formSelector:".popup__form",inputSelector:".popup__container-form-inputs-name",submitButtonSelector:".popup__container-form-inputs-button",inactiveButtonClass:"button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function b(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}var _=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"_hasInvalidInput",(function(t){return t.some((function(t){return!t.validity.valid}))})),b(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._formElement.addEventListener("submit",(function(t){t.preventDefault()})),r._setEventListeners()})),this._formElement=e,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));e.textContent=t.validationMessage,e.classList.add(this.errorClass),t.classList.add(this.inputErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove(this.inputErrorClass),e.classList.remove(this.errorClass),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?this._setButtonState(!0,this._inactiveButtonClass):this._setButtonState(!1,this._inactiveButtonClass)}},{key:"_setButtonState",value:function(t,e){this._buttonElement.disabled=t,t?this._buttonElement.classList.add(e):this._buttonElement.classList.remove(e)}},{key:"resetValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){t._hideInputError(e),e.value=""}))}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}var E=function(){function t(e,n){var r=e.data,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderer",value:function(){var t=this;this._renderedItems.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"addCards",value:function(t){this._container.append(t)}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popUpElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popUpElement.classList.add("popup__opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popUpElement.classList.remove("popup__opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_clickOutside",value:function(t){return t.target.classList.contains("popup__container")||t.target.classList.contains("popup")||t.target.classList.contains("popup__close")||t.target.classList.contains("popup__container-form-toggle")||t.target.classList.contains("popup__img-close")||t.target.classList.contains("popup__img")}},{key:"setEventListeners",value:function(){var t=this;this._popUpElement.addEventListener("click",(function(e){t._clickOutside(e)&&t.close()}))}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(r);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._inputList=n._popUpElement.querySelectorAll(".popup__container-form-inputs-name"),n._formElement=n._popUpElement.querySelector(".popup__form"),n._submitButton=n._popUpElement.querySelector(".popup__container-form-inputs-button"),n._handleFormSubmit=e,n}return e=u,(n=[{key:"close",value:function(){O(B(u.prototype),"close",this).call(this),this._formElement.reset()}},{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;O(B(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(C);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===I(o)?o:String(o)),r)}var o}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(r);if(o){var n=U(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._title=e._popUpElement.querySelector(".popup__img-title"),e._image=e._popUpElement.querySelector(".popup__img-background"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;x(U(u.prototype),"open",this).call(this),this._title.textContent=e,this._image.src=n,this._image.setAttribute("alt",e)}}])&&T(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(C);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===N(o)?o:String(o)),r)}var o}var A=function(){function t(e){var n=e.userName,r=e.userJob;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=n,this._userJob=r}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userJob:this._userJob.textContent}}},{key:"setUserInfo",value:function(t){var e=t.username,n=t.userjob;this._userName.textContent=e,this._userJob.textContent=n}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),J=new _(p,m),F=new _(y,m);J.enableValidation(),F.enableValidation();var M=new V("#modalPopUp");M.setEventListeners();var Y=function(t){return new r({data:t,handleCardClick:function(t){var e=t.name,n=t.link;M.open({name:e,link:n})}})._generateCard()},z=new E({data:[{name:"Valle de Yosemite",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lago Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:function(t){var e=Y(t);z.addCards(e)}},".elements");z.renderer();var G=new q("#popUpAdd",(function(){var t=Y({link:f.value,name:s.value});z.addItem(t),G.close()}));G.setEventListeners(),c.addEventListener("click",(function(){G.open(),F.resetValidation()}));var H=new q("#popUpProfile",(function(t){o.textContent=u.value,i.textContent=a.value,H.close()}));H.setEventListeners();var K=new A({userName:o,userJob:i});l.addEventListener("click",(function(){H.open(),J.resetValidation();var t=K.getUserInfo();u.value=t.userName,a.value=t.userJob}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTZDLEVBQVVYLG9CQUVWLElBQU1ZLEVBQWMsSUFBSXZCLEVBQVMsQ0FDL0JDLFNBQVU3RixFQUNWOEYsUUFBUzdGLElBR1hHLEVBQVFmLGlCQUFpQixTQUFTLFdBQ2hDNkgsRUFBVVQsT0FDVk4sRUFBc0JjLGtCQUN0QixJQUFNRyxFQUFrQkQsRUFBWUUsY0FDcENuSCxFQUFjdEIsTUFBUXdJLEVBQWdCdkIsU0FDdEMxRixFQUFldkIsTUFBUXdJLEVBQWdCdEIsT0FDekMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHRzL1BvcFVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvc2NyaXB0cy9Qb3BVcFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3NjcmlwdHMvaW5pdGlhbENhcmRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZFRlbXBsYXRlXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3Ioe2RhdGEsIGhhbmRsZUNhcmRDbGlja30pe1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCl7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGVDYXJkID0gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIiNjaXRpZXNcIik7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlQ2FyZFxyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVMaWtlQnRuKCl7XHJcbiAgICAgICAgdGhpcy5saWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50c19fdGVtcGxhdGVfZWxlbWVudC1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVEZWxldGVCdG4oKXtcclxuICAgICAgICB0aGlzLmNyZWF0ZWRDYXJkLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMubGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdG4oKVxyXG4gICAgICAgIH0gKVxyXG4gICAgICAgIHRoaXMuZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bigpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soe25hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmt9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX3NldENhcmRQcm9wZXJ0aWVzKCl7XHJcbiAgICAgICAgdGhpcy5jYXJkVGl0bGUgPSB0aGlzLmNyZWF0ZWRDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZFRpdGxlXCIpO1xyXG4gICAgICAgIHRoaXMuY2FyZEltYWdlID0gdGhpcy5jcmVhdGVkQ2FyZC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRJbWdcIik7XHJcbiAgICAgICAgdGhpcy5kZWxldGVCdG4gPSB0aGlzLmNyZWF0ZWRDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIjdHJhc2hDYW5cIik7XHJcbiAgICAgICAgdGhpcy5saWtlQnRuID0gdGhpcy5jcmVhdGVkQ2FyZC5xdWVyeVNlbGVjdG9yKFwiI2xpa2VCdG5cIik7XHJcbiAgICAgICAgdGhpcy5jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB9XHJcblxyXG4gICAgX2dlbmVyYXRlQ2FyZCgpe1xyXG4gICAgICAgIHRoaXMuY3JlYXRlZENhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3NldENhcmRQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVkQ2FyZFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZOYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZBYm91dFwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwTmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cEFib3V0XCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdEJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuU3VibWl0XCIpO1xyXG5leHBvcnQgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRJbWdcIik7XHJcbmV4cG9ydCBjb25zdCBuZXdUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIik7XHJcbmV4cG9ydCBjb25zdCBuZXdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpbmtJbWdcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIilcclxuZXhwb3J0IGNvbnN0IHBsYWNlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYWNlRm9ybVwiKVxyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2NvbnRhaW5lci1mb3JtLWlucHV0cy1uYW1lXCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2NvbnRhaW5lci1mb3JtLWlucHV0cy1idXR0b25cIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcclxuICB9O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgc2VsZWN0b3JzKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNlbGVjdG9ycy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZWxlY3RvcnMuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2VsZWN0b3JzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZWxlY3RvcnMuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNlbGVjdG9ycy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpe1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5lcnJvckNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaW5wdXRFcnJvckNsYXNzKTtcclxufVxyXG5cclxuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCl7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxufVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4gXHJcbiAgICBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+ICFpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUodHJ1ZSwgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zZXRCdXR0b25TdGF0ZShmYWxzZSwgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0QnV0dG9uU3RhdGUoZGlzYWJsZWQsIGNsYXNzVG9BZGQpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBkaXNhYmxlZDtcclxuICAgIGlmIChkaXNhYmxlZCkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NUb0FkZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NUb0FkZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgICAgaW5wdXQudmFsdWUgPSAnJztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7ZGF0YSwgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKVxyXG4gICAgfVxyXG4gICAgcmVuZGVyZXIoKXtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYWRkSXRlbShlbGVtZW50KXtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDYXJkcyhlbGVtZW50KXtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wVXBTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcG9wVXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3BVcFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wVXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHRoaXMuX3BvcFVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCl7XHJcbiAgICAgICAgaWYoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIil7IFxyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9jbGlja091dHNpZGUoZXZ0KXtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jb250YWluZXJcIikgfHxcclxuICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSB8fFxyXG4gICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKSB8fFxyXG4gICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jb250YWluZXItZm9ybS10b2dnbGVcIikgfHxcclxuICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9faW1nLWNsb3NlXCIpIHx8XHJcbiAgICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2ltZ1wiKVxyXG4gICAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX3BvcFVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT57XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2NsaWNrT3V0c2lkZShldnQpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcFVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3BVcFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KXtcclxuICAgICAgICBzdXBlcihwb3BVcFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3BVcEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fY29udGFpbmVyLWZvcm0taW5wdXRzLW5hbWVcIik7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3BVcEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3BVcEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyLWZvcm0taW5wdXRzLWJ1dHRvblwiKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdFxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCl7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpXHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCl7XHJcbiAgICAgICAgdGhpcy5fZm9ybVZhbHVlcyA9e307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcFVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3BVcFNlbGVjdG9yKXtcclxuICAgICAgICBzdXBlcihwb3BVcFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3BvcFVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWctdGl0bGVcIik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3BVcEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nLWJhY2tncm91bmRcIilcclxuICAgIH1cclxuICAgIG9wZW4oe25hbWUsIGxpbmt9KXtcclxuICAgICAgICBzdXBlci5vcGVuKClcclxuICAgICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9pbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgbmFtZSlcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHt1c2VyTmFtZSwgdXNlckpvYn0pe1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWUsXHJcbiAgICAgICAgdGhpcy5fdXNlckpvYiA9IHVzZXJKb2JcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgdXNlckpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCxcclxuICAgICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oZGF0YSl7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCB1c2Vyam9ifSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VybmFtZTtcclxuICAgICAgICB0aGlzLl91c2VySm9iLnRleHRDb250ZW50ID0gdXNlcmpvYjtcclxuICAgICAgfVxyXG59IiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCJcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL3NjcmlwdHMvQ2FyZC5qc1wiXHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuL3NjcmlwdHMvaW5pdGlhbENhcmRzLmpzXCI7XHJcbmltcG9ydCB7IFxyXG4gIHNlbGVjdG9ycyxcclxuICBlZGl0QnRuLCBcclxuICBhZGRCdG4sIFxyXG4gIHByb2ZpbGVUaXRsZSwgXHJcbiAgcHJvZmlsZVByb2Zlc3Npb24sXHJcbiAgcG9wdXBGb3JtTmFtZSxcclxuICBwb3B1cEZvcm1BYm91dCxcclxuICBuZXdUaXRsZSxcclxuICBuZXdJbWcsXHJcbiAgZm9ybUVsZW1lbnQsXHJcbiAgcGxhY2VGb3JtRWxlbWVudCxcclxuICB9IGZyb20gXCIuL3NjcmlwdHMvdXRpbHMuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uICBmcm9tIFwiLi9zY3JpcHRzL1NlY3Rpb24uanNcIlxyXG5pbXBvcnQgUG9wVXBXaXRoRm9ybSBmcm9tIFwiLi9zY3JpcHRzL1BvcFVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcFVwV2l0aEltYWdlIGZyb20gXCIuL3NjcmlwdHMvUG9wVXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL3NjcmlwdHMvVXNlckluZm8uanNcIjtcclxuXHJcblxyXG5jb25zdCBwcm9maWxlUG9wVXBWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgc2VsZWN0b3JzKVxyXG5jb25zdCBhZGRQbGFjZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihwbGFjZUZvcm1FbGVtZW50LCBzZWxlY3RvcnMpXHJcblxyXG5wcm9maWxlUG9wVXBWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRQbGFjZVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgbW9kYWxDYXJkID0gbmV3IFBvcFVwV2l0aEltYWdlKFwiI21vZGFsUG9wVXBcIik7XHJcbm1vZGFsQ2FyZC5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKHtkYXRhLCBcclxuICAgIGhhbmRsZUNhcmRDbGljazogKHtuYW1lLCBsaW5rfSkgPT4ge1xyXG4gICAgbW9kYWxDYXJkLm9wZW4oe25hbWUsIGxpbmt9KVxyXG4gIH0gfSk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50Ll9nZW5lcmF0ZUNhcmQoKTtcclxufVxyXG5cclxuY29uc3Qgc2VjdGlvbkNhcmRzID0gbmV3IFNlY3Rpb24oe1xyXG4gIGRhdGE6IGluaXRpYWxDYXJkcyxcclxuICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZEl0ZW0pXHJcbiAgICBzZWN0aW9uQ2FyZHMuYWRkQ2FyZHMoY2FyZEVsZW1lbnQpO1xyXG4gIH0sXHJcbn0sIFwiLmVsZW1lbnRzXCIpXHJcbnNlY3Rpb25DYXJkcy5yZW5kZXJlcigpO1xyXG5cclxuY29uc3QgaGFuZGxlQWRkRm9ybVN1Ym1pdCA9ICgpID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoe1xyXG4gICAgbGluazogbmV3SW1nLnZhbHVlLFxyXG4gICAgbmFtZTogbmV3VGl0bGUudmFsdWUsXHJcbiAgIH0pO1xyXG4gICBzZWN0aW9uQ2FyZHMuYWRkSXRlbShjYXJkRWxlbWVudClcclxuICBjcmVhdGVDYXJkUG9wVXAuY2xvc2UoKTtcclxufVxyXG5cclxuY29uc3QgY3JlYXRlQ2FyZFBvcFVwID0gbmV3IFBvcFVwV2l0aEZvcm0oXCIjcG9wVXBBZGRcIiwgaGFuZGxlQWRkRm9ybVN1Ym1pdCk7XHJcbmNyZWF0ZUNhcmRQb3BVcC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY3JlYXRlQ2FyZFBvcFVwLm9wZW4oKTtcclxuICBhZGRQbGFjZVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcclxuICBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSBwb3B1cEZvcm1OYW1lLnZhbHVlO1xyXG4gIHByb2ZpbGVQcm9mZXNzaW9uLnRleHRDb250ZW50ID0gcG9wdXBGb3JtQWJvdXQudmFsdWU7XHJcbiAgZWRpdFBvcFVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmNvbnN0IGVkaXRQb3BVcCA9IG5ldyBQb3BVcFdpdGhGb3JtKFwiI3BvcFVwUHJvZmlsZVwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XHJcbmVkaXRQb3BVcC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcHJvZmlsZVVzZXIgPSBuZXcgVXNlckluZm8oe1xyXG4gIHVzZXJOYW1lOiBwcm9maWxlVGl0bGUsXHJcbiAgdXNlckpvYjogcHJvZmlsZVByb2Zlc3Npb24sXHJcbn0pXHJcblxyXG5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdFBvcFVwLm9wZW4oKTtcclxuICBwcm9maWxlUG9wVXBWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gcHJvZmlsZVVzZXIuZ2V0VXNlckluZm8oKTtcclxuICBwb3B1cEZvcm1OYW1lLnZhbHVlID0gcHJvZmlsZVVzZXJJbmZvLnVzZXJOYW1lO1xyXG4gIHBvcHVwRm9ybUFib3V0LnZhbHVlID0gcHJvZmlsZVVzZXJJbmZvLnVzZXJKb2I7XHJcbn0gKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG4iXSwibmFtZXMiOlsidGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJDYXJkIiwiX3JlZiIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZUNhcmRDbGljayIsImtleSIsInZhbHVlIiwiY2xvbmVOb2RlIiwiY29udGVudCIsImxpa2VCdG4iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjcmVhdGVkQ2FyZCIsInJlbW92ZSIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQnRuIiwiZGVsZXRlQnRuIiwiX2hhbmRsZURlbGV0ZUJ0biIsImNhcmRJbWFnZSIsImNhcmRUaXRsZSIsInRleHRDb250ZW50Iiwic3JjIiwiX2dldFRlbXBsYXRlIiwiX3NldENhcmRQcm9wZXJ0aWVzIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZVByb2Zlc3Npb24iLCJwb3B1cEZvcm1OYW1lIiwicG9wdXBGb3JtQWJvdXQiLCJlZGl0QnRuIiwiYWRkQnRuIiwibmV3VGl0bGUiLCJuZXdJbWciLCJmb3JtRWxlbWVudCIsInBsYWNlRm9ybUVsZW1lbnQiLCJzZWxlY3RvcnMiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkZvcm1WYWxpZGF0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJpbnB1dExpc3QiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2lucHV0TGlzdCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2Zvcm1FbGVtZW50IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImFkZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2V0QnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsImNsYXNzVG9BZGQiLCJfdGhpczIiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImFwcGVuZCIsIlBvcHVwIiwicG9wVXBTZWxlY3RvciIsIl9wb3BVcEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJfY2xpY2tPdXRzaWRlIiwiUG9wVXBXaXRoRm9ybSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImhhbmRsZUZvcm1TdWJtaXQiLCJjYWxsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsInJlc2V0IiwiX2Zvcm1WYWx1ZXMiLCJfdGhpczMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJQb3BVcFdpdGhJbWFnZSIsIl90aXRsZSIsIl9pbWFnZSIsInNldEF0dHJpYnV0ZSIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiX3VzZXJOYW1lIiwiX3VzZXJKb2IiLCJ1c2VybmFtZSIsInVzZXJqb2IiLCJwcm9maWxlUG9wVXBWYWxpZGF0b3IiLCJhZGRQbGFjZVZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwibW9kYWxDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGVDYXJkIiwib3BlbiIsIl9nZW5lcmF0ZUNhcmQiLCJzZWN0aW9uQ2FyZHMiLCJjYXJkSXRlbSIsImNhcmRFbGVtZW50IiwiYWRkQ2FyZHMiLCJjcmVhdGVDYXJkUG9wVXAiLCJhZGRJdGVtIiwicmVzZXRWYWxpZGF0aW9uIiwiZWRpdFBvcFVwIiwicHJvZmlsZVVzZXIiLCJwcm9maWxlVXNlckluZm8iLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=